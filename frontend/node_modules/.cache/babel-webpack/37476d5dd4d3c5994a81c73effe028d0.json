{"ast":null,"code":"import _asyncToGenerator from \"/Users/jreyesco/Desktop/market/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nexport const authenticate = token => {\n  let user = null; //     Jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, algorithms=['HS256'], function(err, decoded) {\n  //         if(decoded != null  && decoded.authorization==process.env.USER_TOKEN_SECRET){\n  //             access = true\n  //         }\n  //     })\n\n  return user;\n}; // export const getToken = (req: Request) => {\n//     try{\n//         return req.cookies.market_token\n//     }catch(error){\n//         console.log(error)\n//         return null\n//     }\n//   }\n// export const getMarketToken = () => {\n//     const cookies = document.cookie.split(';')\n//     let market_token : string | null  = null\n//     for(let i = 0; i < cookies.length; i++){\n//         if(cookies[i].includes('market_token=')){\n//             return market_token = cookies[i].split('market_token=')[1]\n//         }\n//     }\n//     return market_token\n// }\n\nexport const Fetch = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (url, method, headers, body) {\n    try {\n      const req = yield fetch(url, {\n        method: method,\n        mode: \"cors\",\n        headers: headers,\n        body: body\n      });\n      const res = req.json();\n      if (!res) throw Error;\n      return res;\n    } catch (Error) {\n      console.log(Error);\n      window.location.replace(\"/\");\n    }\n  });\n\n  return function Fetch(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/jreyesco/Desktop/market/frontend/src/app/Utils/Authentication.ts"],"names":[],"mappings":";AASA,OAAO,MAAM,YAAY,GAAI,KAAD,IAAgC;AAExD,MAAI,IAAI,GAAiB,IAAzB,CAFwD,CAI5D;AACA;AACA;AACA;AACA;;AAEI,SAAO,IAAP;AACH,CAXM,C,CAaP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAO,KAAK;AAAA,+BAAG,WAAO,GAAP,EAAoB,MAApB,EAA4C,OAA5C,EAA8E,IAA9E,EAAmH;AACrI,QAAG;AACC,YAAM,GAAG,SAAS,KAAK,CAAC,GAAD,EAAM;AACzB,QAAA,MAAM,EAAE,MADiB;AAEzB,QAAA,IAAI,EAAE,MAFmB;AAGzB,QAAA,OAAO,EAAE,OAHgB;AAIzB,QAAA,IAAI,EAAE;AAJmB,OAAN,CAAvB;AAOA,YAAM,GAAG,GAAG,GAAG,CAAC,IAAJ,EAAZ;AAEA,UAAG,CAAC,GAAJ,EAAS,MAAM,KAAN;AAET,aAAO,GAAP;AAEH,KAdD,CAcE,OAAM,KAAN,EAAa;AACX,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,MAAA,MAAM,CAAC,QAAP,CAAgB,OAAhB,CAAwB,GAAxB;AAEH;AACJ,GApBkB;;AAAA,kBAAL,KAAK;AAAA;AAAA;AAAA,GAAZ","sourcesContent":["import {Jwt} from 'jsonwebtoken'\n\nexport interface User {\n    id: string\n    firstName: string\n    lastName: string\n    email: string\n}\n\nexport const authenticate = (token : string): User | null => {\n\n    let user : User | null = null\n\n//     Jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, algorithms=['HS256'], function(err, decoded) {\n//         if(decoded != null  && decoded.authorization==process.env.USER_TOKEN_SECRET){\n//             access = true\n//         }\n//     })\n\n    return user\n}\n\n// export const getToken = (req: Request) => {\n//     try{\n//         return req.cookies.market_token\n//     }catch(error){\n//         console.log(error)\n//         return null\n//     }\n//   }\n\n// export const getMarketToken = () => {\n//     const cookies = document.cookie.split(';')\n//     let market_token : string | null  = null\n\n//     for(let i = 0; i < cookies.length; i++){\n//         if(cookies[i].includes('market_token=')){\n//             return market_token = cookies[i].split('market_token=')[1]\n//         }\n//     }\n//     return market_token\n// }\n\nexport const  Fetch = async (url: string, method: \"POST\" | \"GET\", headers: HeadersInit | undefined, body: BodyInit | null | undefined) => {\n    try{\n        const req = await fetch(url, {\n            method: method,\n            mode: \"cors\",\n            headers: headers,\n            body: body\n        })\n\n        const res = req.json()\n\n        if(!res) throw Error\n\n        return res\n\n    } catch(Error) {\n        console.log(Error)\n        window.location.replace(\"/\")\n        \n    }\n}"],"sourceRoot":""},"metadata":{},"sourceType":"module"}