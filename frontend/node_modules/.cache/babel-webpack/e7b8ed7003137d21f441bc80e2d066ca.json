{"ast":null,"code":"import _asyncToGenerator from \"/Users/jreyesco/Desktop/market/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fetch } from '../../Utils/Authentication';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-cookie-service\";\nimport * as i2 from \"@angular/router\";\nexport class IndexComponent {\n  constructor(cookieService, router) {\n    var _this = this;\n\n    this.cookieService = cookieService;\n    this.router = router;\n    this.title = \"Market\";\n    this.email = \"\";\n    this.password = \"\";\n    this.cookie = null;\n    this.loginURL = \"http://localhost:8000/login\";\n    this.login = /*#__PURE__*/_asyncToGenerator(function* () {\n      const headers = {\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      };\n      const body = JSON.stringify({\n        email: _this.email,\n        password: _this.password\n      });\n\n      try {\n        const data = yield Fetch(_this.loginURL, \"POST\", headers, body);\n\n        if (data[\"token\"]) {\n          _this.cookieService.set('market-token', data['token']);\n\n          location.replace(\"/dashboard\");\n          return;\n        }\n\n        throw Error;\n      } catch (Error) {\n        alert(\"Failure to login\");\n      }\n    });\n  }\n\n  ngOnInit() {\n    const marketToken = this.cookieService.get(\"market-token\");\n    if (marketToken) this.router.navigate(['/dashboard']);\n  }\n\n  signup() {\n    location.replace(\"/signup\");\n  }\n\n}\n\nIndexComponent.ɵfac = function IndexComponent_Factory(t) {\n  return new (t || IndexComponent)(i0.ɵɵdirectiveInject(i1.CookieService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nIndexComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: IndexComponent,\n  selectors: [[\"app-index\"]],\n  decls: 17,\n  vars: 0,\n  consts: [[\"id\", \"market\", 1, \"banner\"], [1, \"login\"], [\"type\", \"email\", \"placeholder\", \"email\", \"name\", \"email\", \"id\", \"email\", \"required\", \"\"], [\"type\", \"password\", \"placeholder\", \"password\", \"name\", \"psw\", \"id\", \"password\", \"required\", \"\"], [\"variant\", \"primary\", \"type\", \"submit\", \"onclick\", \"login()\"], [3, \"click\"]],\n  template: function IndexComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\");\n      i0.ɵɵelement(1, \"head\");\n      i0.ɵɵelementStart(2, \"body\");\n      i0.ɵɵelementStart(3, \"h1\", 0);\n      i0.ɵɵtext(4, \"Market\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 1);\n      i0.ɵɵelementStart(6, \"form\");\n      i0.ɵɵelement(7, \"input\", 2);\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵelement(9, \"br\");\n      i0.ɵɵelement(10, \"input\", 3);\n      i0.ɵɵelement(11, \"br\");\n      i0.ɵɵelement(12, \"br\");\n      i0.ɵɵelementStart(13, \"button\", 4);\n      i0.ɵɵtext(14, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function IndexComponent_Template_button_click_15_listener() {\n        return ctx.signup();\n      });\n      i0.ɵɵtext(16, \"Sign up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\".body[_ngcontent-%COMP%] {\\n  background-color: white;\\n}\\n\\n.banner[_ngcontent-%COMP%] {\\n  font-family: Andale Mono, monospace;\\n  text-align: center;\\n  font-size: 100px;\\n}\\n\\n.index-form[_ngcontent-%COMP%] {\\n  display: inline-flexbox;\\n}\\n\\n.description[_ngcontent-%COMP%] {\\n  color: white;\\n  text-align: center;\\n}\\n\\n.banner[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-size: 120px;\\n  margin-top: 5%;\\n}\\n\\n.backend[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-size: 50px;\\n  color: gainsboro;\\n  font-family: Impact;\\n}\\n\\n.login[_ngcontent-%COMP%] {\\n  color: white;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmNvbXBvbmVudC5zYXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksdUJBQUE7QUFDSjs7QUFDQTtFQUNJLG1DQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUVKOztBQUFBO0VBQ0ksdUJBQUE7QUFHSjs7QUFEQTtFQUNJLFlBQUE7RUFDQSxrQkFBQTtBQUlKOztBQUZBO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFLSjs7QUFIQTtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QUFNSjs7QUFKQTtFQUNJLFlBQUE7RUFDQSxrQkFBQTtBQU9KIiwiZmlsZSI6ImluZGV4LmNvbXBvbmVudC5zYXNzIiwic291cmNlc0NvbnRlbnQiOlsiLmJvZHkgXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVcblxuLmJhbm5lciBcbiAgICBmb250LWZhbWlseTogQW5kYWxlIE1vbm8sIG1vbm9zcGFjZVxuICAgIHRleHQtYWxpZ246IGNlbnRlclxuICAgIGZvbnQtc2l6ZTogMTAwcHhcblxuLmluZGV4LWZvcm1cbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleGJveFxuXG4uZGVzY3JpcHRpb24gXG4gICAgY29sb3I6IHdoaXRlXG4gICAgdGV4dC1hbGlnbjogY2VudGVyXG5cbi5iYW5uZXJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXJcbiAgICBmb250LXNpemU6IDEyMHB4XG4gICAgbWFyZ2luLXRvcDogNSVcblxuLmJhY2tlbmRcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXJcbiAgICBmb250LXNpemU6IDUwcHhcbiAgICBjb2xvcjogZ2FpbnNib3JvXG4gICAgZm9udC1mYW1pbHk6IEltcGFjdFxuXG4ubG9naW5cbiAgICBjb2xvcjogd2hpdGVcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/jreyesco/Desktop/market/frontend/src/app/components/index/index.component.ts","/Users/jreyesco/Desktop/market/frontend/src/app/components/index/index.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core'\nimport { CookieService } from 'ngx-cookie-service'\nimport { Router } from '@angular/router'\nimport {Fetch} from '../../Utils/Authentication'\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.sass']\n})\n\nexport class IndexComponent implements OnInit {\n\n  public title = \"Market\"\n\n\n  private email: string  = \"\"\n  private password: string = \"\"\n  private cookie : string | null = null\n\n  private loginURL: string = \"http://localhost:8000/login\"\n\n  constructor(private cookieService: CookieService, private router: Router) {}\n\n  ngOnInit(): void {\n    const marketToken = this.cookieService.get(\"market-token\")\n\n    if(marketToken) this.router.navigate(['/dashboard'])\n  }\n\n  public login = async () => {\n\n    const headers = {\"Content-Type\" : \"application/json; charset=utf-8\"}\n    const body = JSON.stringify({ email: this.email, password: this.password})\n    \n    try {   \n\n        const data = await Fetch(this.loginURL, \"POST\", headers, body)\n\n        if (data[\"token\"]) {\n            this.cookieService.set('market-token', data['token'])\n            location.replace(\"/dashboard\")\n            return\n        }\n\n        throw Error\n\n    } catch(Error) {\n      alert(\"Failure to login\")\n    }\n  }\n\n  public signup(){\n    location.replace(\"/signup\")\n}\n\n}\n","<!Doctype html>\n<html>\n    <head>\n    </head>\n    <body>\n        <h1 class=\"banner\" id=\"market\">Market</h1>\n\n        <div class=\"login\">\n                <form>\n                    <input type=\"email\" placeholder=\"email\" name=\"email\" id=\"email\" required> <br><br>\n                    <input type=\"password\" placeholder=\"password\" name=\"psw\" id=\"password\" required> <br><br>\n                    <button variant=\"primary\" type=\"submit\" onclick=\"login()\">Login</button>  \n                    <button (click)=\"signup()\">Sign up</button>\n                </form>\n        </div>\n\n    </body>\n</html>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}